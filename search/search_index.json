{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Blitz Broker Adapter Documentation","text":"<p>Welcome to the Blitz Broker Adapter documentation.</p>"},{"location":"blitz_adapter_structure/","title":"Blitz Order Message Structure Document","text":""},{"location":"blitz_adapter_structure/#overview","title":"Overview","text":"<p>Blitz uses a standardized <code>OrderLog</code> object to store and communicate order events, regardless of the broker. Adapter modules map broker-specific events into this standardized format.</p> <p>There are two main flows:</p> <ul> <li>From Blitz \u2192 Adapter \u2192 Broker: Order requests from Blitz are sent to broker-specific formats via adapters.</li> <li>From Broker \u2192 Adapter \u2192 Blitz: Raw broker events are converted to Blitz <code>OrderLog</code>.</li> </ul> <p>This  focuses on the message structure used in these flows.</p>"},{"location":"blitz_adapter_structure/#blitz-adapter-broker-order-flow","title":"Blitz \u2192 Adapter \u2192 Broker Order Flow","text":""},{"location":"blitz_adapter_structure/#1-order-request-blitz-redis","title":"1. Order Request: Blitz \u2192 Redis","text":"<p>When Blitz wants to place an order, it creates a request payload and publishes it to Redis.</p> <p>The adapter subscribes to the Redis channel, receives the request, converts it into broker-specific format, and sends it to the broker.</p> <p>You can see the full order request structure here: Blitz Order Request Details</p> <p>Notes</p> <p><code>request_id</code> must be unique for each request. Mandatory fields include <code>InstrumentId</code>, <code>Account</code>, <code>OrderType</code>, <code>OrderSide</code>, <code>OrderQuantity</code>, <code>OrderPrice</code>. Optional fields like <code>TIF</code>, <code>Product</code>, and <code>StopPrice</code> depend on the broker and order type.</p>"},{"location":"blitz_adapter_structure/#2-adapter-broker","title":"2. Adapter \u2192 Broker","text":"<ul> <li>The adapter maps Blitz fields to the broker API fields (for example, Zerodha).</li> <li>Sends the order to the broker API.</li> <li>Waits for execution response.</li> </ul>"},{"location":"blitz_adapter_structure/#example-mapping-blitz-zerodha","title":"Example Mapping (Blitz \u2192 Zerodha)","text":"Blitz Field Zerodha Field InstrumentId instrument_token Account account_id OrderType order_type OrderSide transaction_type OrderQuantity quantity OrderPrice price TIF validity Product product_type StopPrice trigger_price"},{"location":"blitz_adapter_structure/#3-broker-response-adapter-blitz","title":"3. Broker Response \u2192 Adapter \u2192 Blitz","text":"<ul> <li>Broker responds with execution status (OPEN, FILLED, CANCELLED, REJECTED, etc.).</li> <li>Adapter converts broker response to Blitz <code>OrderLog</code>.</li> <li>Publishes the <code>OrderLog</code> back to Redis for Blitz to consume.</li> </ul>"},{"location":"blitz_adapter_structure/#2-blitz-standard-orderlog","title":"2. Blitz Standard OrderLog","text":"<p>All order messages in Blitz follow this structure:</p> Field Type Description Notes Id long Internal database ID Auto-generated EntityId string Entity identifier Owning organization InstrumentId ulong Blitz instrument ID Preferred for broker mapping ExchangeSegment enum Exchange segment NSE / BSE / NFO InstrumentName string Trading symbol e.g., RELIANCE BlitzOrderId ulong Blitz order ID Generated by Blitz ExchangeOrderId string Broker-provided order ID Primary key per exchange ExecutionId string Broker execution ID Often same as order_id OrderType enum LIMIT / MARKET / SL / SL-M Uppercase OrderSide enum BUY / SELL Uppercase OrderStatus enum NEW / FILLED / CANCELLED / REJECTED Normalized OrderQuantity int Total order quantity OrderPrice double Order price Required for LIMIT OrderStopPrice double Stop-loss price Optional OrderTriggerPrice double Trigger price For SL / SL-M LastTradedQuantity int Last traded quantity Adapter-filled LastTradedPrice double Last traded price Adapter-filled LeavesQuantity int Quantity remaining TIF enum Time in Force DAY / IOC OrderDisclosedQuantity int Disclosed quantity Optional ExchangeTransactTime long Broker execution time Epoch ms AverageTradedPrice double Average executed price 0 if none IsOrderCompleted bool Terminal order state UserText string Raw broker message JSON for debugging ExecutionType enum MANUAL / AUTO / STRATEGY CorrelationOrderId string Cross-system order ID Optional"},{"location":"blitz_adapter_structure/#notes","title":"Notes","text":"<ul> <li>Only a subset of fields is required for order placement</li> <li>Broker-generated fields must not be set by callers</li> <li>All timestamps are epoch milliseconds</li> <li><code>UserText</code> must always contain the raw broker payload</li> </ul>"},{"location":"blitz_adapter_structure/#example-json","title":"Example JSON","text":"<pre><code>{\n  \"Id\": 0,\n  \"EntityId\": \"\",\n  \"InstrumentId\": 3677697,\n  \"ExchangeSegment\": \"NSE\",\n  \"InstrumentName\": \"IDEA\",\n  \"BlitzOrderId\": \"260106151469089\",\n  \"ExchangeOrderId\": \"1100000057118816\",\n  \"ExecutionId\": 0,\n  \"OrderType\": \"LIMIT\",\n  \"OrderSide\": \"BUY\",\n  \"OrderStatus\": \"NEW\",\n  \"OrderQuantity\": 1,\n  \"OrderPrice\": 11.2,\n  \"OrderStopPrice\": 0.0,\n  \"OrderTriggerPrice\": 0.0,\n  \"LastTradedQuantity\": 0,\n  \"LastTradedPrice\": 0.0,\n  \"LeavesQuantity\": 1,\n  \"TIF\": \"DAY\",\n  \"OrderDisclosedQuantity\": 0,\n  \"ExchangeTransactTime\": \"2026-01-06 13:36:53\",\n  \"AverageTradedPrice\": 0.0,\n  \"IsOrderCompleted\": false,\n  \"UserText\": \"\",\n  \"ExecutionType\": \"\",\n  \"CorrelationOrderId\": 0\n}\n</code></pre>"},{"location":"blitz_adapter_structure/#3-message-flow-broker-adapter-blitz","title":"3. Message Flow: Broker \u2192 Adapter \u2192 Blitz","text":"<p>Steps:</p> <ol> <li>Adapter receives raw broker order JSON.</li> <li>Adapter converts it into <code>OrderLog</code> using broker-specific mapping logic.</li> <li><code>UserText</code> stores the original broker message for reference.</li> <li>Blitz consumes the standardized <code>OrderLog</code>.</li> </ol>"},{"location":"blitz_adapter_structure/#example-zerodha-response","title":"Example (ZERODHA RESPONSE)","text":"<p>Broker Raw Data:</p> <pre><code>{\n  \"account_id\": \"RGZ539\",\n  \"unfilled_quantity\": 0,\n  \"checksum\": \"\",\n  \"placed_by\": \"RGZ539\",\n  \"order_id\": \"260106151960076\",\n  \"exchange_order_id\": \"1100000078332318\",\n  \"parent_order_id\": null,\n  \"status\": \"OPEN\",\n  \"status_message\": null,\n  \"status_message_raw\": null,\n  \"order_timestamp\": \"2026-01-06 15:22:19\",\n  \"exchange_update_timestamp\": \"2026-01-06 15:22:19\",\n  \"exchange_timestamp\": \"2026-01-06 15:22:19\",\n  \"variety\": \"regular\",\n  \"exchange\": \"NSE\",\n  \"tradingsymbol\": \"IDEA\",\n  \"instrument_token\": 3677697,\n  \"order_type\": \"LIMIT\",\n  \"transaction_type\": \"BUY\",\n  \"validity\": \"DAY\",\n  \"product\": \"MIS\",\n  \"quantity\": 1,\n  \"disclosed_quantity\": 0,\n  \"price\": 11.2,\n  \"trigger_price\": 0,\n  \"average_price\": 0,\n  \"filled_quantity\": 0,\n  \"pending_quantity\": 1,\n  \"cancelled_quantity\": 0,\n  \"market_protection\": 0,\n  \"meta\": {},\n  \"tag\": null,\n  \"guid\": \"205871X0NN8M6geL7A8\"\n}\n</code></pre> <p>Adapter \u2192 Blitz:</p> <pre><code>{\n  \"EntityId\": \"\",\n  \"InstrumentId\": 3677697,\n  \"ExchangeSegment\": \"NSE\",\n  \"InstrumentName\": \"IDEA\",\n  \"BlitzOrderId\": \"260106151960076\",\n  \"ExchangeOrderId\": \"1100000078332318\",\n  \"ExecutionId\": 0,\n  \"OrderType\": \"LIMIT\",\n  \"OrderSide\": \"BUY\",\n  \"OrderStatus\": \"NEW\",\n  \"OrderQuantity\": 1,\n  \"OrderPrice\": 11.2,\n  \"OrderStopPrice\": 0.0,\n  \"OrderTriggerPrice\": 0.0,\n  \"LastTradedQuantity\": 0,\n  \"LastTradedPrice\": 0.0,\n  \"LeavesQuantity\": 1,\n  \"TIF\": \"DAY\",\n  \"OrderDisclosedQuantity\": 0,\n  \"ExchangeTransactTime\": \"2026-01-06 15:22:19\",\n  \"AverageTradedPrice\": 0.0,\n  \"IsOrderCompleted\": false,\n  \"UserText\": \"\",\n  \"ExecutionType\": \"\",\n  \"CorrelationOrderId\": 0\n}\n</code></pre>"},{"location":"blitz_adapter_structure/#4-message-flow-blitz-adapter-broker","title":"4. Message Flow: Blitz \u2192 Adapter \u2192 Broker","text":"<p>When Blitz generates an order request:</p> <ol> <li>Blitz sends an OrderLog-like request to the adapter.</li> <li>Adapter converts Blitz fields to broker-specific API fields.</li> <li>Adapter sends request to broker API.</li> </ol> <p>Mapping Example (Blitz \u2192 Zerodha):</p> Blitz Field Zerodha API Field OrderSide transaction_type OrderType order_type OrderQuantity quantity OrderPrice price InstrumentId instrument_token Account account_id"},{"location":"blitz_adapter_structure/#5-status-mapping","title":"5. Status Mapping","text":"<p>Blitz normalizes broker statuses:</p> Broker Status Blitz Status OPEN NEW COMPLETE FILLED CANCELLED CANCELLED REJECTED REJECTED <p>Other statuses pass through as-is if unrecognized.</p>"},{"location":"blitz_adapter_structure/#6-timestamps","title":"6. Timestamps","text":"<p>All timestamps in Blitz are stored as epoch milliseconds:</p> <ul> <li><code>OrderGeneratedDateTime</code>: Order creation time</li> <li><code>ExchangeTransactTime</code>: Broker execution time</li> </ul> <p>Adapter must convert ISO format strings to epoch ms.</p>"},{"location":"blitz_adapter_structure/#7-notes-for-adapters","title":"7. Notes for Adapters","text":"<ul> <li>Always populate <code>UserText</code> with raw broker JSON.</li> <li>OrderLog fields should be fully filled where possible.</li> <li>Any missing numeric field defaults to <code>0</code>.</li> <li>Any missing string field defaults to <code>\"\"</code> or <code>None</code>.</li> </ul>"},{"location":"blitz_order_requests/","title":"Order Requests Documentation","text":"<p>This document describes how to publish Place Order, Modify Order, and Cancel Order requests to the Adapter (Zerodha) via Redis.</p>"},{"location":"blitz_order_requests/#redis-publishing-overview","title":"Redis Publishing Overview","text":"<p>All requests are published to a Redis channel as JSON.</p> <ul> <li>Channel: <code>adapter.channel</code></li> <li>Message format: JSON</li> <li>Publisher: Blitz</li> <li>Consumer: Broker Adapter (Zerodha)</li> </ul>"},{"location":"blitz_order_requests/#common-request-structure","title":"Common Request Structure","text":"Field Type Description Notes request_id string Unique request identifier Must be unique per request action string Action name Determines request type data object Payload for the action Mandatory"},{"location":"blitz_order_requests/#1-place-order","title":"1. PLACE ORDER","text":""},{"location":"blitz_order_requests/#action","title":"Action","text":"<p>PLACE_ORDER</p>"},{"location":"blitz_order_requests/#data-fields","title":"Data Fields","text":"Field Type Description Notes symbol string Exchange + symbol NSE quantity int Total order quantity Required product string Product type MIS / CNC / NRML tif string Time in force DAY / IOC price float Order price Required for LIMIT orderType string Order type LIMIT / MARKET / SL / SL-M orderSide string Order side BUY / SELL stopPrice float Trigger price 0 if not applicable"},{"location":"blitz_order_requests/#example","title":"Example","text":"<pre><code>{\n  \"request_id\": \"place_001\",\n  \"action\": \"PLACE_ORDER\",\n  \"data\": {\n    \"BOID\": \"BOID123\",\n    \"instrumentId\": 23455666,\n    \"symbol\": \"NSE|RELIANCE\",\n    \"quantity\": 1,\n    \"product\": \"MIS\",\n    \"tif\": \"DAY\",\n    \"price\": 1560,\n    \"orderType\": \"LIMIT\",\n    \"orderSide\": \"BUY\",\n    \"stopPrice\": 0\n  }\n}\n</code></pre>"},{"location":"blitz_order_requests/#2-modify-order","title":"2. MODIFY ORDER","text":""},{"location":"blitz_order_requests/#action_1","title":"Action","text":"<p>MODIFY_ORDER</p>"},{"location":"blitz_order_requests/#data-fields_1","title":"Data Fields","text":"Field Type Description Notes order_id string Broker order ID Mandatory quantity int Modified quantity Optional orderType string Order type LIMIT / MARKET validity string Order validity DAY / IOC"},{"location":"blitz_order_requests/#example_1","title":"Example","text":"<pre><code>{\n  \"request_id\": \"modify_001\",\n  \"action\": \"MODIFY_ORDER\",\n  \"data\": {\n    \"BOID\": \"BOID123\",\n    \"quantity\": 2,\n    \"orderType\": \"LIMIT\",\n    \"validity\": \"DAY\"\n  }\n}\n</code></pre>"},{"location":"blitz_order_requests/#3-cancel-order","title":"3. CANCEL ORDER","text":""},{"location":"blitz_order_requests/#action_2","title":"Action","text":"<p>CANCEL_ORDER</p>"},{"location":"blitz_order_requests/#data-fields_2","title":"Data Fields","text":"Field Type Description Notes order_id string Broker order ID Mandatory"},{"location":"blitz_order_requests/#example_2","title":"Example","text":"<pre><code>{\n  \"request_id\": \"cancel_001\",\n  \"action\": \"CANCEL_ORDER\",\n  \"data\": {\n    \"BOID\": \"BOID123\",\n  }\n}\n</code></pre>"},{"location":"blitz_order_requests/#notes","title":"Notes","text":"<ul> <li>All enum values must be UPPERCASE</li> <li><code>order_id</code> refers to ExchangeOrderId from broker</li> <li>Adapter maps broker response into <code>OrderLog</code></li> <li>Errors / rejects are published back asynchronously</li> </ul>"}]}